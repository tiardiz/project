(()=>{"use strict";var e={851:(e,t,a)=>{var r=a(130),l=a(768);function o(e,t){const a=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.Wv)(a)}var n=a(241);const i={},s=(0,n.A)(i,[["render",o]]),u=s;var d=a(387),c=a(232),p=a(144),v=a(373);const h={class:"container mx-auto px-4 py-6"},m={key:0,class:"text-red-500 text-sm"},b=["disabled"],f={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},g=["onClick"],y=["src"],w={class:"p-4 flex-1 flex flex-col justify-between"},k={class:"text-xl font-semibold text-gray-900 mb-2"},x={class:"text-gray-700 text-sm overflow-hidden line-clamp-3"},C={class:"flex justify-between items-center mt-4 text-sm text-gray-500"},L={class:"inline-flex items-center gap-1"},j=["onClick"],E=["onClick"],O={class:"flex justify-center mt-8 space-x-2"},A=["onClick"],_=9,T={__name:"HomeView",setup(e){const t=(0,d.rd)(),a=(0,p.KR)([]),o=(0,p.KR)(1),n=(0,p.KR)({title:"",body:"",image:"",author:""}),i=(0,l.EW)(()=>Math.ceil(a.value.length/_)),s=(0,l.EW)(()=>a.value.slice((o.value-1)*_,o.value*_)),u=async()=>{try{const e=await v.A.get("http://127.0.0.1:8000/api/news");a.value=e.data}catch(e){console.error("Ошибка при загрузке новостей:",e)}};(0,l.sV)(()=>u());const T=(0,p.KR)(!1),K=(0,p.KR)(""),X=async()=>{if(n.value.title&&n.value.body&&n.value.author&&n.value.image)try{T.value=!0,K.value="",await v.A.post("http://127.0.0.1:8000/api/news",n.value),n.value={title:"",body:"",image:""},await u()}catch(e){console.error("Ошибка при добавлении новости:",e),K.value="Не удалось добавить новость."}finally{T.value=!1}else K.value="Заполните все поля."},M=async e=>{if(confirm("Удалить эту новость?"))try{await v.A.delete(`http://localhost:8000/api/news/${e}`),a.value=a.value.filter(t=>t.id!==e)}catch(t){console.error("Ошибка при удалении:",t)}},N=e=>{t.push(`/news/${e}`)},P=async e=>{try{await v.A.post(`http://127.0.0.1:8000/api/news/${e}/like`),u()}catch(t){console.error("Ошибка при лайке:",t)}};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",h,[t[6]||(t[6]=(0,l.Lk)("h2",{class:"text-3xl font-bold text-gray-800 mb-6"}," News: ",-1)),(0,l.Lk)("form",{class:"mb-6 space-y-4 bg-gray-100 p-4 rounded-md",onSubmit:(0,r.D$)(X,["prevent"])},[K.value?((0,l.uX)(),(0,l.CE)("div",m,(0,c.v_)(K.value),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value.title=e),placeholder:"Title",class:"w-full p-2 border rounded-md",required:""},null,512),[[r.Jo,n.value.title]]),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.value.body=e),placeholder:"Text",class:"w-full p-2 border rounded-md",required:""},null,512),[[r.Jo,n.value.body]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.value.author=e),placeholder:"Author",class:"w-full p-2 border rounded-md",required:""},null,512),[[r.Jo,n.value.author]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.value.image=e),placeholder:"Image URL",class:"w-full p-2 border rounded-md"},null,512),[[r.Jo,n.value.image]]),(0,l.Lk)("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md",disabled:T.value},(0,c.v_)(T.value?"Добавление...":"Добавить новость"),9,b)],32),(0,l.Lk)("div",f,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"bg-white rounded-2xl shadow-md overflow-hidden relative group cursor-pointer flex flex-col",style:{height:"380px"},onClick:t=>N(e.id)},[(0,l.Lk)("img",{src:e.image,alt:"news image",class:"w-full h-48 object-cover"},null,8,y),(0,l.Lk)("div",w,[(0,l.Lk)("div",null,[(0,l.Lk)("h3",k,(0,c.v_)(e.title),1),(0,l.Lk)("p",x,(0,c.v_)(e.body),1)]),(0,l.Lk)("div",C,[(0,l.Lk)("span",L,[t[4]||(t[4]=(0,l.Lk)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"fill-rule":"evenodd",d:"M4.998 7.78C6.729 6.345 9.198 5 12 5c2.802 0 5.27 1.345 7.002 2.78a12.713 12.713 0 0 1 2.096 2.183c.253.344.465.682.618.997.14.286.284.658.284 1.04s-.145.754-.284 1.04a6.6 6.6 0 0 1-.618.997 12.712 12.712 0 0 1-2.096 2.183C17.271 17.655 14.802 19 12 19c-2.802 0-5.27-1.345-7.002-2.78a12.712 12.712 0 0 1-2.096-2.183 6.6 6.6 0 0 1-.618-.997C2.144 12.754 2 12.382 2 12s.145-.754.284-1.04c.153-.315.365-.653.618-.997A12.714 12.714 0 0 1 4.998 7.78ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z","clip-rule":"evenodd"})],-1)),(0,l.eW)(" "+(0,c.v_)(e.views),1)]),(0,l.Lk)("button",{class:"inline-flex items-center gap-1",onClick:(0,r.D$)(t=>P(e.id),["stop"])},[t[5]||(t[5]=(0,l.Lk)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{d:"m12.75 20.66 6.184-7.098c2.677-2.884 2.559-6.506.754-8.705-.898-1.095-2.206-1.816-3.72-1.855-1.293-.034-2.652.43-3.963 1.442-1.315-1.012-2.678-1.476-3.973-1.442-1.515.04-2.825.76-3.724 1.855-1.806 2.201-1.915 5.823.772 8.706l6.183 7.097c.19.216.46.34.743.34a.985.985 0 0 0 .743-.34Z"})],-1)),(0,l.eW)(" "+(0,c.v_)(e.likes),1)],8,j)])]),(0,l.Lk)("button",{class:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-md text-xs opacity-0 group-hover:opacity-100",onClick:(0,r.D$)(t=>M(e.id),["stop"])}," Удалить ",8,E)],8,g))),128))]),(0,l.Lk)("div",O,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.value,e=>((0,l.uX)(),(0,l.CE)("button",{key:e,class:(0,c.C4)(["px-4 py-2 rounded-md border border-gray-300",{"bg-blue-600 text-white":o.value===e,"hover:bg-gray-200":o.value!==e}]),onClick:t=>o.value=e},(0,c.v_)(e),11,A))),128))])]))}},K=T,X=K,M=[{path:"/",name:"Home",component:X},{path:"/news/:id",name:"NewsDetail",component:()=>a.e(336).then(a.bind(a,336))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a.e(143).then(a.bind(a,524))}],N=(0,d.aE)({history:(0,d.LA)(),routes:M}),P=N;(0,r.Ef)(u).use(P).mount("#app")}},t={};function a(r){var l=t[r];if(void 0!==l)return l.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,(()=>{var e=[];a.O=(t,r,l,o)=>{if(!r){var n=1/0;for(d=0;d<e.length;d++){for(var[r,l,o]=e[d],i=!0,s=0;s<r.length;s++)(!1&o||n>=o)&&Object.keys(a.O).every(e=>a.O[e](r[s]))?r.splice(s--,1):(i=!1,o<n&&(n=o));if(i){e.splice(d--,1);var u=l();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,l,o]}})(),(()=>{a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[]))})(),(()=>{a.u=e=>"js/"+e+"."+{143:"7e9c1680",336:"3ed536aa"}[e]+".js"})(),(()=>{a.miniCssF=e=>{}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="project:";a.l=(r,l,o,n)=>{if(e[r])e[r].push(l);else{var i,s;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==t+o){i=c;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=r),e[r]=[l];var p=(t,a)=>{i.onerror=i.onload=null,clearTimeout(v);var l=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach(e=>e(a)),t)return t(a)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p="/"})(),(()=>{var e={524:0};a.f.j=(t,r)=>{var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)r.push(l[2]);else{var o=new Promise((a,r)=>l=e[t]=[a,r]);r.push(l[2]=o);var n=a.p+a.u(t),i=new Error,s=r=>{if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var o=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",i.name="ChunkLoadError",i.type=o,i.request=n,l[1](i)}};a.l(n,s,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,r)=>{var l,o,[n,i,s]=r,u=0;if(n.some(t=>0!==e[t])){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(s)var d=s(a)}for(t&&t(r);u<n.length;u++)o=n[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},r=self["webpackChunkproject"]=self["webpackChunkproject"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[504],()=>a(851));r=a.O(r)})();
//# sourceMappingURL=app.58ba4f6d.js.map